/////////////////////////////////////
// DO NOT EDIT THIS FILE DIRECTLY,
// THIS FILE WAS AUTO GENERATED.
/////////////////////////////////////

import { ObjectType, Field, Int } from "@nestjs/graphql";

import { UserPermission as PrismaUserPermission } from "@prisma/client";
import { BasePermission } from "./Permission.model";
import { BaseRole } from "./Role.model";
import { BaseUser } from "./User.model";

export { PrismaUserPermission };

export type UserPermissionConstructor = {
  permissionId: number;
  userId: string;
  createdAt?: Date | null;
  roleId?: number | null;
  permission?: BasePermission | null;
  role?: BaseRole | null;
  user?: BaseUser | null;
};

@ObjectType({ isAbstract: true })
export class BaseUserPermission implements PrismaUserPermission {
  @Field(() => Int!, { nullable: false })
  readonly permissionId: number;

  @Field(() => String!, { nullable: false })
  readonly userId: string;

  @Field(() => Date!, { nullable: false })
  createdAt: Date;

  @Field(() => Int, { nullable: true })
  readonly roleId: null | number;

  @Field(() => BasePermission, { nullable: true })
  permission: null | BasePermission;

  @Field(() => BaseRole, { nullable: true })
  role: null | BaseRole;

  @Field(() => BaseUser, { nullable: true })
  user: null | BaseUser;

  constructor(model: UserPermissionConstructor) {
    this.permissionId = model.permissionId;
    this.userId = model.userId;
    this.createdAt = model.createdAt ?? new Date();
    this.roleId = model.roleId ?? null;
    this.permission = model.permission ?? null;
    this.role = model.role ?? null;
    this.user = model.user ?? null;
  }

  static fromPrisma(hash: PrismaUserPermission): BaseUserPermission {
    return new BaseUserPermission(hash);
  }

  toPrisma(): PrismaUserPermission {
    const { permission, role, user, ...entity } = this;
    return entity;
  }
}
